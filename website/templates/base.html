<!-- The theme of the website,  contains standard components-->


<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{% block title %}Home{% endblock %}</title>
        <!-- TailwindCSS CDN -->
        <script src="https://cdn.tailwindcss.com"></script>
        <script>
            tailwind.config = {
                theme: {
                    extend: {
                                    colors: {
                                        pizzaOrange: '#ff7f2a',
                                        pizzaYellow: '#ffd600',
                                        pizzaGray: '#222',
                                        pizzaWhite: '#fffbe9',
                                    },
                                    fontFamily: {
                                        headline: ['Montserrat', 'Arial', 'sans-serif'],
                                        body: ['Inter', 'Arial', 'sans-serif'],
                                    },
                    }
                }
            }
        </script>
</head>
<body class="bg-gradient-to-br from-pizzaOrange via-pizzaYellow to-pizzaWhite min-h-screen font-body flex flex-col">
    <!-- Sticky Navbar -->
            <nav class="sticky top-0 z-50 bg-white/80 backdrop-blur shadow-lg">
                <div class="flex flex-col sm:flex-row items-center justify-between px-2 sm:px-4 py-2 sm:py-3">
                    <div class="flex items-center gap-2 w-full sm:w-auto justify-center sm:justify-start">
                        <span class="text-2xl sm:text-3xl font-headline font-extrabold text-pizzaOrange">üçï DoughDev Pizza</span>
                    </div>
                    <div class="flex flex-wrap items-center gap-3 sm:gap-6 text-base sm:text-lg font-semibold w-full sm:w-auto justify-center sm:justify-end mt-2 sm:mt-0">
                        <a href="/" class="hover:text-pizzaOrange transition">Home</a>
                        {% if not current_user.is_authenticated %}
                            <a href="/sign-up" class="hover:text-pizzaOrange transition">Sign up</a>
                            <a href="/login" class="hover:text-pizzaOrange transition">Login</a>
                        {% else %}
                            <a href="/menu" class="hover:text-pizzaOrange transition">Menu</a>
                            <a href="/cart" class="relative hover:text-pizzaOrange transition">
                                <span>Cart</span>
                                <span class="absolute -top-2 -right-4 bg-pizzaOrange text-pizzaWhite rounded-full px-2 text-xs font-bold animate-bounce">üõí</span>
                            </a>
                            <a href="/checkout" class="hover:text-pizzaOrange transition">Checkout</a>
                            <a href="/logout" class="hover:text-pizzaOrange transition">Logout</a>
                            <span class="ml-2 sm:ml-4 text-pizzaOrange font-headline">Welcome, {{ current_user.username }} üëã</span>
                        {% endif %}
                    </div>
                </div>
                <div class="h-1 w-full bg-gradient-to-r from-pizzaOrange via-pizzaYellow to-pizzaOrange"></div>
            </nav>

    <!-- Flash messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <ul class="flash-messages fixed top-20 left-1/2 -translate-x-1/2 z-50">
                {% for category, message in messages %}
                    <li class="px-4 py-2 mb-2 rounded-xl shadow-lg font-bold text-center
                        {% if category == 'success' %}bg-green-100 text-green-800{% elif category == 'error' %}bg-red-100 text-red-800{% else %}bg-pizzaYellow text-pizzaGray{% endif %}">
                        {{ message }}
                    </li>
                {% endfor %}
            </ul>
            <script>
                setTimeout(() => {
                    document.querySelectorAll('.flash-messages').forEach(e => e.style.display = 'none');
                }, 4000);
            </script>
        {% endif %}
    {% endwith %}

    <!-- Main content -->
        <main class="flex-1 w-full max-w-6xl mx-auto px-2 sm:px-6 py-4 sm:py-8">
            {% block content %}{% endblock %}
        </main>

    <!-- Footer -->
        <footer class="site-footer bg-pizzaGray text-pizzaWhite py-4 sm:py-6 mt-8 sm:mt-12 shadow-2xl rounded-t-2xl">
            <div class="text-center px-2">
                <h4 class="font-headline text-lg sm:text-xl">Contact Us at <a href="mailto:support@gmail.com" class="underline text-pizzaYellow">support@gmail.com</a></h4>
                <p class="mt-2">&copy; 2025 DoughDev Pizza. All rights reserved.</p>
            </div>
        </footer>
</body>
</html>